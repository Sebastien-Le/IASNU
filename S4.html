<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Moonbin Jo" />


<title>Session 4 : Investigating the influence of two variables on the score</title>

<script src="site_libs/header-attrs-2.19/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/united.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<link rel="stylesheet" href="style.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Institut Agrocampus & Seoul National University : A bottom-up approach to statistical analysis</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/AgrocampusDS/demarche_statistique">
    <span class="fa fa-github"></span>
     
    
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Session 4 : Investigating the influence of
two variables on the score</h1>
<h4 class="author">Moonbin Jo</h4>

</div>


<div id="section"
class="section level1 tabset tabset-fade tabset-pills">
<h1 class="tabset tabset-fade tabset-pills"></h1>
<div id="objectives-of-this-session" class="section level2">
<h2>Objectives of this session</h2>
</div>
<div id="exercises" class="section level2">
<h2>Exercises</h2>
<div id="t-test-with-two-variables" class="section level3">
<h3>T-test with two variables</h3>
<p>In the earlier sections, we compared the mean value of two samples.
This was calculated with the model of <code>Score ~ Habit</code> to
understand if the type of habit had an effect on the score of
constraint. However, as the same participants have given the scores for
different types of habits, we can approach the same data with another
formula that adds the effect of the participants. By using the model
<code>Score ~ Habit + Judge</code> we can investigate the effect of
participants (judges) on the score of constraint.</p>
<p>With the <code>lm</code> function, we will be able to fit a linear
model between the score of constraint and the type of habit, as well as
the effect of the judges. These results will be saved as
<code>res1</code>, and the function <code>anova</code> will be used to
produce an Analysis of Variance Table. This will help us read the
results in order to understand the effect of the variables we are
looking at.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>res1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(Score <span class="sc">~</span> Habit <span class="sc">+</span> Judge, data_long_score_t)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">anova</span>(res1)</span></code></pre></div>
<pre><code>## Analysis of Variance Table
## 
## Response: Score
##            Df Sum Sq Mean Sq F value    Pr(&gt;F)    
## Habit       1  88.57  88.575  33.691 3.199e-08 ***
## Judge     166 348.27   2.098   0.798    0.9265    
## Residuals 166 436.43   2.629                      
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<p>Just like the the t-test, we also have a p-value. This time it is
under the column <code>Pr(&gt;F)</code>, the p-value associated with the
F statistic.From these results we can see that <code>Habit</code> has a
significant effect on the score, while the variable of
<code>Judge</code> does not.</p>
<p>Take a good look at the p-value of the variable <code>Habit</code>
(<code>3.199e-8</code>). We’ll see that number again later.</p>
<div id="conducting-a-paired-t-test" class="section level4">
<h4>Conducting a paired t-test</h4>
<p>The reason why we implemented the effect of the variable
<code>Judge</code> is because the same participants answered the same
questions, and gave two scores. One for the habit of never flying on an
airplane, and one for the habit of unplugging one’s electric devices. In
this kind of situation, we can say that the values are
<strong>paired</strong>. These sort of paired values can also be
examined using a <strong>paired</strong> t-test.</p>
<p>In this case the data has to be paired by Judge so it has a different
structure than the data that we analyzed. Instead of a column for
<code>Habit</code> and one for <code>Score</code>, we have one for each
type of habit. These are paired so that each row indicates the pair of
scores that the participants have given.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>data_paired <span class="ot">&lt;-</span> data_final[,<span class="fu">c</span>(<span class="st">&quot;never_airplane_score&quot;</span>, <span class="st">&quot;unplug_score&quot;</span>)]</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>data_paired <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code></pre></div>
<pre><code>##   never_airplane_score unplug_score
## 1                    5            1
## 2                    3            2
## 3                    4            1
## 4                    4            0
## 5                    1            2
## 6                    5            1</code></pre>
<p>If the constraint scores were the same for habits, the difference
between scores would be 0. The paired t-test will see if the mean of
difference in scores for participants is 0 or not.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(data_paired<span class="sc">$</span>never_airplane_score,</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>       data_paired<span class="sc">$</span>unplug_score,</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">paired =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## 
##  Paired t-test
## 
## data:  data_paired$never_airplane_score and data_paired$unplug_score
## t = 5.8044, df = 166, p-value = 3.199e-08
## alternative hypothesis: true mean difference is not equal to 0
## 95 percent confidence interval:
##  0.6796052 1.3802751
## sample estimates:
## mean difference 
##         1.02994</code></pre>
<p>Looking at the results we can see that the mean difference is not
equal to 0, indicating that the constraint scores between habits are
significantly different.</p>
<p>Look at the p-value. Have we seen this value before? (Yes.)</p>
<p>The p-value of the paired t-test is the same as the analysis of
variance table for the linear model, with the formula of
<code>Score ~ Habit + Judge</code>. This is because the paired t-test
(unlike the t-test we did in Session 3) also includes the variable
<code>Judge</code>.</p>
<p>The t-test we performed that was <strong>not paired</strong> was
comparing the differences in the mean values of scores. On the other
hand, the t-test that we performed that <strong>was paired</strong> is
comparing the mean value of the differences in scores. You can see the
differences in the wording of the results. For the t-test that was not
paired, you can see that the alternative hypothesis is
<code>true difference in means between group never_airplane_score and group unplug_score is not equal to 0</code>.
On the other hand, for the paired t-test the alternative hypothesis is
<code>true mean difference is not equal to 0</code>, because the paired
t-test sees if the mean for difference in scores is equal to 0.</p>
<p>We can see the same results of the paired t-test, by conducting a
t-test on the differences of score for the habit of never flying on an
airplane, and unplugging your electric devices.</p>
<p>First we calculate the differences in scores and save them in another
variable <code>difference</code>. We will then conduct a t-test on
whether the mean of this difference is equal to 0 or not.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>data_paired<span class="sc">$</span>difference <span class="ot">&lt;-</span> data_paired<span class="sc">$</span>never_airplane_score <span class="sc">-</span> data_paired<span class="sc">$</span>unplug_score</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(data_paired<span class="sc">$</span>difference)</span></code></pre></div>
<pre><code>## 
##  One Sample t-test
## 
## data:  data_paired$difference
## t = 5.8044, df = 166, p-value = 3.199e-08
## alternative hypothesis: true mean is not equal to 0
## 95 percent confidence interval:
##  0.6796052 1.3802751
## sample estimates:
## mean of x 
##   1.02994</code></pre>
<p>The results show the same <code>t</code> value and
<code>p-value</code> as the paired t-test, showing us once again that
the paired t-test is calculating whether the mean of difference is equal
to 0 or not.</p>
<p><span style="color:red"><strong>Now it’s your
turn!</strong></span></p>
<p>Run the next line of the script.</p>
<p><strong><code>t.test(data_final$never_airplane_score, data_final$local_products_score,</code></strong>
<strong><code>paired = TRUE)</code></strong></p>
<ul>
<li>What is the research question that we are trying to answer?</li>
<li>What do the p-value results indicate? What is different from the
results of the earlier t-test between never riding an airplane and
unplugging your electric devices?</li>
<li>Is the amount of constriction the participants feel for never taking
an airplane and only buying locally sourced food products the same, or
different?</li>
</ul>
</div>
</div>
</div>
<div id="vocabulary-of-this-session" class="section level2">
<h2>Vocabulary of this session</h2>
<div id="r-commands" class="section level3">
<h3>R commands</h3>
<ul>
<li>library</li>
</ul>
</div>
<div id="r-environment" class="section level3">
<h3>R environment</h3>
<ul>
<li>packages</li>
</ul>
</div>
<div id="statistical-terms" class="section level3">
<h3>Statistical terms</h3>
<ul>
<li>Counting frequencies</li>
<li>Calculating the mean value</li>
</ul>
</div>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>

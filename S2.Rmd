---
title: "Session 2 : Understanding the scores of one habit using the t-test"
#author: "Moonbin Jo"
date: ''
output:
  html_document:
    theme: united
    css: style.css
    highlight: tango
mainfont: SourceSansPro
header-includes:
- \usepackage[default]{sourcesanspro}
- \usepackage[T1]{fontenc}
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE)
```

# {.tabset .tabset-fade .tabset-pills}

##  Objectives of this session
  
## Exercises

```{r, include = FALSE}
library(tidyverse)
load("data_final.RData")
data_long_score <- data_long_score[,c(1,26,27)]
```

### Is the habit of becoming vegetarian a constraint on people's everyday lives?

Let's look first at the habit of becoming vegetarian. The first research question you can formulate from this data is 'Is the habit of becoming vegetarian a constraint on people's everyday lives?'. If the answer to this question is 'No', then the score would be 0. We will answer this research question by using the t-test, which checks whether the true mean of the score is 0 or not.

On the one hand, we have observed data from which we derive an empirical mean that is supposed to reflect a theoretical mean $\mu$. We want to compare this theoretical mean, approximated by our empirical mean, with 0. In other words, we want to test whether $\mu = 0$ or not.

A t-test for a reference value (often referred to as a one-sample t-test) is a statistical hypothesis test used to determine if the mean of a sample is significantly different from a known reference value. This test is commonly used when you have a single sample of data and you want to assess whether the sample's mean is statistically different from a specified value that you consider as a reference or benchmark.

Before running an analysis, it is important to understand how to enter data into a dataset: what are my statistical individuals of interest, what are my variables?


```{r}
dim(data_long_score)
data_long_score[1:5,]
```


```{r t-test}
t.test(data_long_score[data_long_score$Habit=="vegetarian_score",]$Score)
```

There are three main results that we can focus on in the t-test: the `t` value, the `p-value`, and the `confidence interval`.

The `t` value is a ratio of the difference between the values we are trying to compare. In this case, it is the mean value of constraint score for the habit of becoming vegetarian, and the value of 0. A higher value of the t-score indicates a larger difference.

The `p-value` of the results indicate the probability of the null hypothesis being true. In this case, the null hypothesis is that the true mean is equal to 0. If the p-value is large (closer to the value of 1), it means that the probability of getting the mean that we have calculated is very likely, and indicates that the true mean is 0. If the p-value is small, it means that the probability of getting the mean that we have calculated is very unlikely, and also indicates that the true mean is not equal to 0. Generally, a p-value smaller than 0.05 is seen as significant evidence to reject the null hypothesis.

In this case, the p-value of the results indicates the probability of getting the mean value of the score that has been calculated (3.556886) when the true mean is actually 0. As this value is very **very** small, we can reject the null hypothesis that the true mean is equal to 0. 

The `confidence interval` shows the range the true mean belongs to based on the mean value that is calculated, with 95 percent confidence. Based on the mean value that is calculated, we have 95 percent confidence that the true mean of the score will be in this range.

In conclusion, the score of constraint for becoming vegetarian is not equal to 0, and we can say that this habit is perceived as being constraining for the participants.

### Is it very constraining?

Another research question we can think of is if the mean value of the score 

For example, from a scale of 0-5, if we say that if the mean value of the habit is larger than 3, it means that the habit is perceived as "very constraining". Therefore, we can use this value to evaluate the constraint of the habit of becoming vegetarian. By investigating whether the mean value of the score is larger than 3 or not, we can assess the constraint of the habit.

We can use the `t.test` function to calculate whether the mean score is greater than 3. 

* We will add two arguments compared to the earlier t-test that compared the mean to 0. First, by adding the argument `mu = 3`, we can compare the mean value of the score to the value of 3. Second, by adding the argument `alternative = c("greater")`, we can conduct a t-test on whether the mean is greater than 3.

```{r}
t.test(data_long_score[data_long_score$Habit == "vegetarian_score",]$Score,
       mu = 3, alternative = c("greater"))
```

This t-test has a different null hypothesis/alternative hypothesis than the t-test we conducted earlier. For the earlier one, the null hypothesis was that the true mean of the score was equal to 0, while the alternative hypothesis was that the true mean of the score was not equal to 0. However, the alternative hypothesis does not specify whether the true mean of the score is bigger or smaller than 0.

For this t-test, the null hypothesis is that the true mean is either equal or smaller than the value that we have chosen, and  the alternative hypothesis is that the true mean is larger than 3. You can see these differences in the `alternative hypothesis` in the results of the t-tests.

Therefore, the results of the t-test have different meanings. The p-value is much smaller than 0.05, meaning that we can reject the null hypothesis, and accept the alternative hypothesis. This indicates that the true mean value is greater than 3.

In conclusion, we can evaluate the habit of becoming vegetarian is perceived as very constraining.

[**Now it's your turn!**]{style="color:red"}

Run the next line of the script

**`t.test(data_long_score[data_long_score$Habit=="air_drying_score",]$Score)`**

```{r t-test practice2, include = FALSE}
t.test(data_long_score[data_long_score$Habit=="air_drying_score",]$Score)
```

-   What is the research question this t-test trying to answer?
-   What does the p-value of the t-test indicate?
-   What range is the true mean of the score for "air_drying_score" belong in, and what does it mean? Is it smaller than the value of 3?
-   Is air-drying more constraining than becoming vegetarian? Is it possible to know this with the t-test results?

## Vocabulary of this session

### R commands
- library


### R environment
- packages
